{
  "comments": [
    {
      "key": {
        "uuid": "79a95447_a315aac4",
        "filename": "webrtc/modules/desktop_capture/mac/window_list_utils.cc",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-25T01:26:27Z",
      "side": 1,
      "message": "Why treat it as minimized in this case? It seems more logical to treat null as false. Is this function used in a context where treating a window as minimized is safer? Perhaps allowing the caller to pass in a default value would be the best approach; this is fairly common in functions that extract a value from an optional type.",
      "range": {
        "startLine": 144,
        "startChar": 77,
        "endLine": 144,
        "endChar": 0
      },
      "revId": "ad6d090712b5faea76076b230daafa331bee0cba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99c40909_1df5076a",
        "filename": "webrtc/modules/desktop_capture/mac/window_list_utils.cc",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-25T17:44:33Z",
      "side": 1,
      "message": "Yes, we never capture a window if it\u0027s minimized on Mac due to the OS limitation. And if a window does not have kCGWindowIsOnscreen property, it\u0027s more likely this window does not exist anymore. Or in another word, it\u0027s not on screen.\n\nI think both IsWindowMinimized() overloads should return true if window does not exist. But the following one does not follow this rule either.\n\nI have updated this function to match the behavior you suggested, and will provide another change to flip the behavior of both functions and rename them to \"IsWindowNotOnScreen()\". With this name, it should be more reasonable to return true if window does not exist.",
      "parentUuid": "79a95447_a315aac4",
      "range": {
        "startLine": 144,
        "startChar": 77,
        "endLine": 144,
        "endChar": 0
      },
      "revId": "ad6d090712b5faea76076b230daafa331bee0cba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e5dc7da_9533c8c9",
        "filename": "webrtc/modules/desktop_capture/mac/window_list_utils.cc",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-25T17:58:05Z",
      "side": 1,
      "message": "That sounds reasonable, as long as your comment about a window having been deleted being the most likely cause of a missing dictionary key. I\u0027m not sure where to look in the documentation to confirm that though.",
      "parentUuid": "99c40909_1df5076a",
      "range": {
        "startLine": 144,
        "startChar": 77,
        "endLine": 144,
        "endChar": 0
      },
      "revId": "ad6d090712b5faea76076b230daafa331bee0cba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ec74d1f_0d704a71",
        "filename": "webrtc/modules/desktop_capture/mac/window_list_utils.cc",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-25T18:11:45Z",
      "side": 1,
      "message": "No, I have not seen any document about this. But since this happens on the users\u0027 machine (otherwise we won\u0027t have bug report), I doubt when the crash happens, it\u0027s possible the |window| CFDictionaryRef does not represent a window at all. Since it\u0027s a Ref, I suppose it works like an HWND on Windows.\n\nP.S. I am even more surprised about the briefness of the documentation on Apple website. (https://developer.apple.com/documentation/coregraphics/kcgwindowisonscreen)\nCFDictionaryGetValue() (https://developer.apple.com/documentation/corefoundation/1516757-cfdictionarygetvalue) is also not helpful.",
      "parentUuid": "2e5dc7da_9533c8c9",
      "range": {
        "startLine": 144,
        "startChar": 77,
        "endLine": 144,
        "endChar": 0
      },
      "revId": "ad6d090712b5faea76076b230daafa331bee0cba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}