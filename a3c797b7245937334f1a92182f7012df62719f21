{
  "comments": [
    {
      "key": {
        "uuid": "28f5a7a8_6ecf6ce5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 13,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T18:11:19Z",
      "side": 1,
      "message": "It took me a while to understand what\u0027s going on here. I think the issue you\u0027re trying to address is that if a window has child windows, then we need to use the (slower) window capturer because the child window might cause the overall shape to be non-rectangular. In fact, I\u0027m not convinced that is actually what we want--if I\u0027m casting notepad and use the File \u003e Open dialog, I probably want to cast that as well. However, if non-rectangular regions are not supported, then this approach is better than the alternative of casting only the portion of the child window that lies inside its parent.",
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72473219_971a5a7b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 13,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T20:39:24Z",
      "side": 1,
      "message": "I have forwarded you a mail thread between Brave Yao (BraveYao@) and Niklas (NiklasE@). We have discussed the issues and potential solutions, and believe capturing \"window\" instead \"application\" is a simpler solution for now.\n\nCurrently CroppingWindowCapturerWin will still return a rectangle even part of the child window covers the target window. Both child window and target window may not be fully captured, which is worse than capturing \"window\" or capturing \"application\".",
      "parentUuid": "28f5a7a8_6ecf6ce5",
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16de142c_aa62e769",
        "filename": "webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
        "patchSetId": 12
      },
      "lineNbr": 63,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T18:11:19Z",
      "side": 1,
      "message": "If I\u0027m understanding the documentation for GetAncestor correctly, by changing ROOTOWNER to ROOT, you\u0027re no longer traversing owned windows, so I think you need to delete \"owned\" from this comment. However, it\u0027s not obvious to me why you\u0027re making that change, and there\u0027s nothing in the comment or CL description to explain.",
      "range": {
        "startLine": 63,
        "startChar": 23,
        "endLine": 63,
        "endChar": 28
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a6a71abf_247adc82",
        "filename": "webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
        "patchSetId": 12
      },
      "lineNbr": 63,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T20:39:24Z",
      "side": 1,
      "message": "A comment has been added to the code.\n\nThe original comment made for this change can be found at https://chromium-review.googlesource.com/c/external/webrtc/+/619728/8/webrtc/modules/desktop_capture/cropping_window_capturer_win.cc#66.",
      "parentUuid": "16de142c_aa62e769",
      "range": {
        "startLine": 63,
        "startChar": 23,
        "endLine": 63,
        "endChar": 28
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3b8d350_78c916fa",
        "filename": "webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
        "patchSetId": 12
      },
      "lineNbr": 72,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T18:11:19Z",
      "side": 1,
      "message": "This comment seems to be saying much the same as the next two lines, but I think those are easier to understand. If you think that the link adds useful context, then feel free to keep it, but I don\u0027t think the first two lines you\u0027ve added help with understanding this code.",
      "range": {
        "startLine": 72,
        "startChar": 134,
        "endLine": 72,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cec4e72b_f5e292d3",
        "filename": "webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
        "patchSetId": 12
      },
      "lineNbr": 72,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T20:39:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e3b8d350_78c916fa",
      "range": {
        "startLine": 72,
        "startChar": 134,
        "endLine": 72,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "de95c5ae_b9a8e2b5",
        "filename": "webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
        "patchSetId": 12
      },
      "lineNbr": 208,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T18:11:19Z",
      "side": 1,
      "message": "The documentation isn\u0027t explicit about this, but I assume that this will only enumerate actual windows, not things like buttons, which IIRC have an HWND associated with them. If it does enumerate such \"windows\" then this isn\u0027t going to work, I don\u0027t think.",
      "range": {
        "startLine": 208,
        "startChar": 2,
        "endLine": 208,
        "endChar": 18
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2d0bcdb_1dca7ff5",
        "filename": "webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
        "patchSetId": 12
      },
      "lineNbr": 208,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T20:39:24Z",
      "side": 1,
      "message": "No, controls won\u0027t be enumerated by this function. The comment has been updated.",
      "parentUuid": "de95c5ae_b9a8e2b5",
      "range": {
        "startLine": 208,
        "startChar": 2,
        "endLine": 208,
        "endChar": 18
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "981612c2_3ba7959e",
        "filename": "webrtc/modules/desktop_capture/cropping_window_capturer_win.cc",
        "patchSetId": 12
      },
      "lineNbr": 208,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T20:55:29Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e2d0bcdb_1dca7ff5",
      "range": {
        "startLine": 208,
        "startChar": 2,
        "endLine": 208,
        "endChar": 18
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04c5250c_434a9ac5",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 70,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T18:11:19Z",
      "side": 1,
      "message": "Why not return false in this case?",
      "range": {
        "startLine": 70,
        "startChar": 74,
        "endLine": 70,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b346ec4_7bdbeed5",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 70,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T20:39:24Z",
      "side": 1,
      "message": "Done.\nBut I think GetWindowContentRect() is more like a nice-to-have change, GetWindowRect() also works for most of the cases, except for a fullscreen window. So I am a little bit nervous to return false when this new function fails without adding extra benefit. Because MSDN never tells us when will this function fail. (https://msdn.microsoft.com/en-us/library/windows/desktop/ms633503(v\u003dvs.85).aspx)",
      "parentUuid": "04c5250c_434a9ac5",
      "range": {
        "startLine": 70,
        "startChar": 74,
        "endLine": 70,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21d70884_ef765cdb",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 70,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T20:55:29Z",
      "side": 1,
      "message": "It doesn\u0027t document when GetWindowRect can fail either :) I suspect in both cases it can only return invalid window handle; you might even want to consider making these functions return the rectangle instead of a boolean and have them assert that the API succeeded, but that\u0027s up to you. In any case, having these two methods provide a consistent API is better than having one of them silently fall back on something the caller isn\u0027t expecting, IMO. If you think the scenario is sufficiently common where the caller wants the content rect but will settle for the window rect if that fails, you could always add a GetContentOrWindowRect, with documented semantics, but I think it will yield code that\u0027s harder to reason about.",
      "parentUuid": "4b346ec4_7bdbeed5",
      "range": {
        "startLine": 70,
        "startChar": 74,
        "endLine": 70,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6c3445d_c7db6565",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 70,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T21:20:04Z",
      "side": 1,
      "message": "I have the same feeling that these APIs fail only when the input HWND is invalid. I may be over concerned, I have not encountered the issue on my test machine. Let\u0027s keep it like this for now, and fix it if we receive bug reports later.",
      "parentUuid": "21d70884_ef765cdb",
      "range": {
        "startLine": 70,
        "startChar": 74,
        "endLine": 70,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec0b55c0_4d7fbcc9",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 80,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T18:11:19Z",
      "side": 1,
      "message": "This doesn\u0027t seem right. Surely we want to subtract more from the height than from the width, precisely because the title bar is taller than the window border.",
      "range": {
        "startLine": 80,
        "startChar": 28,
        "endLine": 80,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2b07e22_a60af9f7",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 80,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T20:39:24Z",
      "side": 1,
      "message": "Title bar should also be captured.",
      "parentUuid": "ec0b55c0_4d7fbcc9",
      "range": {
        "startLine": 80,
        "startChar": 28,
        "endLine": 80,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a14e1abe_fa928efa",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 80,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T20:55:29Z",
      "side": 1,
      "message": "Understood. So the content rect as defined by this method is different from the client rect, insofar as the content rect includes the title bar, but none of the window borders; correct? That makes sense, but please clarif in the header comment that the titlebar is included.",
      "parentUuid": "d2b07e22_a60af9f7",
      "range": {
        "startLine": 80,
        "startChar": 28,
        "endLine": 80,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e9e54af_155f6097",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 80,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T21:20:04Z",
      "side": 1,
      "message": "Ah, I have not realized the confusing of the term \"Content\" here. Yes, the comment has been updated.",
      "parentUuid": "a14e1abe_fa928efa",
      "range": {
        "startLine": 80,
        "startChar": 28,
        "endLine": 80,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "65b595c7_8b1a2c6b",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 1000528
      },
      "writtenOn": "2017-08-22T18:11:19Z",
      "side": 1,
      "message": "Please use /2 instead of \u003e\u003e1. It\u0027s more readable.",
      "range": {
        "startLine": 81,
        "startChar": 58,
        "endLine": 81,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "629ede47_709673f3",
        "filename": "webrtc/modules/desktop_capture/win/window_capture_utils.cc",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 1196069
      },
      "writtenOn": "2017-08-22T20:39:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "65b595c7_8b1a2c6b",
      "range": {
        "startLine": 81,
        "startChar": 58,
        "endLine": 81,
        "endChar": 0
      },
      "revId": "a3c797b7245937334f1a92182f7012df62719f21",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}