{
  "comments": [
    {
      "key": {
        "uuid": "3bbd0b75_4ecae929",
        "filename": "webrtc/modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 390,
      "author": {
        "id": 1153539
      },
      "writtenOn": "2017-09-14T09:02:06Z",
      "side": 1,
      "message": "Please move to the initialization of capture_nonlocked_ as discussed IRL.",
      "range": {
        "startLine": 390,
        "startChar": 5,
        "endLine": 390,
        "endChar": 0
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebefa804_b8b0f5c2",
        "filename": "webrtc/modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 390,
      "author": {
        "id": 1232429
      },
      "writtenOn": "2017-09-15T12:31:01Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3bbd0b75_4ecae929",
      "range": {
        "startLine": 390,
        "startChar": 5,
        "endLine": 390,
        "endChar": 0
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21086e76_f3c45516",
        "filename": "webrtc/modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 719,
      "author": {
        "id": 1153539
      },
      "writtenOn": "2017-09-14T09:02:06Z",
      "side": 1,
      "message": "There are two flags here and a pointer that can either be nullptr or not. Are there any invariants for combinations of values of these three things?",
      "range": {
        "startLine": 718,
        "startChar": 6,
        "endLine": 719,
        "endChar": 55
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2839aae8_aecbf02f",
        "filename": "webrtc/modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 719,
      "author": {
        "id": 1232429
      },
      "writtenOn": "2017-09-15T12:31:01Z",
      "side": 1,
      "message": "Nope! Removing one of the flags, making the other const but left in because of locking.",
      "parentUuid": "21086e76_f3c45516",
      "range": {
        "startLine": 718,
        "startChar": 6,
        "endLine": 719,
        "endChar": 55
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "303c43d6_e8bfa5a0",
        "filename": "webrtc/modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 723,
      "author": {
        "id": 1153539
      },
      "writtenOn": "2017-09-14T09:02:06Z",
      "side": 1,
      "message": "Mainly to Per: some modules are initialized in SetExtraOptions which is called from the constructor. Since uptr\u003cPostProc\u003e is available in the constructor, maybe it should also be initialized there instead?\n\nOr should it be initialized here instead because it needs sample rate \u0026 channel count which is not available to the c-tor?",
      "range": {
        "startLine": 723,
        "startChar": 6,
        "endLine": 723,
        "endChar": 29
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c92cb758_6095f2f6",
        "filename": "webrtc/modules/audio_processing/audio_processing_impl.cc",
        "patchSetId": 5
      },
      "lineNbr": 723,
      "author": {
        "id": 1232429
      },
      "writtenOn": "2017-09-15T12:31:01Z",
      "side": 1,
      "message": "Indeed, sample rate and channel count can change over time.\nThe postproc only needs to be initialized when APM (re-)initializes all submodules, though. Removing it from here.",
      "parentUuid": "303c43d6_e8bfa5a0",
      "range": {
        "startLine": 723,
        "startChar": 6,
        "endLine": 723,
        "endChar": 29
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68db3f95_48385791",
        "filename": "webrtc/modules/audio_processing/audio_processing_impl.h",
        "patchSetId": 5
      },
      "lineNbr": 375,
      "author": {
        "id": 1153539
      },
      "writtenOn": "2017-09-14T09:02:06Z",
      "side": 1,
      "message": "I think this should be a c-tor argument to ApmCaptureNonLockedState. From staring at the code, reason for default-initializing values to \u0027false\u0027 seems to be that we don\u0027t know at APM construction time what the values are going to be. These values are set in ApplyConfig. But the post processor is an APM c-tor arg.",
      "range": {
        "startLine": 375,
        "startChar": 0,
        "endLine": 375,
        "endChar": 48
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d62b4b5_4b9e02e6",
        "filename": "webrtc/modules/audio_processing/audio_processing_impl.h",
        "patchSetId": 5
      },
      "lineNbr": 375,
      "author": {
        "id": 1232429
      },
      "writtenOn": "2017-09-15T12:31:01Z",
      "side": 1,
      "message": "Yes! Good!\nI\u0027ll remove this bool on Per\u0027s suggestion, so this is not an issue anymore.",
      "parentUuid": "68db3f95_48385791",
      "range": {
        "startLine": 375,
        "startChar": 0,
        "endLine": 375,
        "endChar": 48
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fb962f4e_102b6f1e",
        "filename": "webrtc/modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 2915,
      "author": {
        "id": 1153539
      },
      "writtenOn": "2017-09-14T09:02:06Z",
      "side": 1,
      "message": "No reason in having it heap-allocated. Less syntax if it\u0027s not.",
      "range": {
        "startLine": 2915,
        "startChar": 43,
        "endLine": 2915,
        "endChar": 57
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "737903a8_87c8cf7f",
        "filename": "webrtc/modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 2915,
      "author": {
        "id": 1232429
      },
      "writtenOn": "2017-09-15T12:31:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fb962f4e_102b6f1e",
      "range": {
        "startLine": 2915,
        "startChar": 43,
        "endLine": 2915,
        "endChar": 57
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "970d5cf7_dc688b3c",
        "filename": "webrtc/modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 2919,
      "author": {
        "id": 1153539
      },
      "writtenOn": "2017-09-14T09:02:06Z",
      "side": 1,
      "message": "I suggest breaking this out to a function for clarity. The parameters are not important, and I think it would improve readability to do e.g.\n\nAudioFrame fake_frame;\nFillFakeFrameWithStuff(\u0026fake_frame); // TODO(...) work on that naming",
      "range": {
        "startLine": 2909,
        "startChar": 0,
        "endLine": 2919,
        "endChar": 0
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38f20a40_653a79a5",
        "filename": "webrtc/modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 2919,
      "author": {
        "id": 1232429
      },
      "writtenOn": "2017-09-15T12:31:01Z",
      "side": 1,
      "message": "Good point. Done!",
      "parentUuid": "970d5cf7_dc688b3c",
      "range": {
        "startLine": 2909,
        "startChar": 0,
        "endLine": 2919,
        "endChar": 0
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2de9874_8c19ef09",
        "filename": "webrtc/modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 2923,
      "author": {
        "id": 1153539
      },
      "writtenOn": "2017-09-14T09:02:06Z",
      "side": 1,
      "message": "Here several behaviors are checked for at once. A test should have as few reasons to fail as possible. Therefore, I think it\u0027s better to split this in two tests. One checking that PostProc is getting the Proc calls by default, and one checking that the config toggling works.",
      "range": {
        "startLine": 2921,
        "startChar": 2,
        "endLine": 2923,
        "endChar": 0
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbee6f69_f41a27aa",
        "filename": "webrtc/modules/audio_processing/audio_processing_unittest.cc",
        "patchSetId": 5
      },
      "lineNbr": 2923,
      "author": {
        "id": 1232429
      },
      "writtenOn": "2017-09-15T12:31:01Z",
      "side": 1,
      "message": "Done (by not supporting toggling)",
      "parentUuid": "e2de9874_8c19ef09",
      "range": {
        "startLine": 2921,
        "startChar": 2,
        "endLine": 2923,
        "endChar": 0
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8951d8a_9563483f",
        "filename": "webrtc/modules/audio_processing/include/audio_processing.h",
        "patchSetId": 5
      },
      "lineNbr": 337,
      "author": {
        "id": 1153539
      },
      "writtenOn": "2017-09-14T09:02:06Z",
      "side": 1,
      "message": "With this flag there are two settings an APM user needs to set in order to activate post processing. The one reason I see for having this config is to enable/disable PostProc at runtime. But that can be done without this config struct by letting the PostProc read from some shared object of the APM user.",
      "range": {
        "startLine": 337,
        "startChar": 11,
        "endLine": 337,
        "endChar": 18
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72338199_ab4e077d",
        "filename": "webrtc/modules/audio_processing/include/audio_processing.h",
        "patchSetId": 5
      },
      "lineNbr": 337,
      "author": {
        "id": 1232429
      },
      "writtenOn": "2017-09-15T12:31:01Z",
      "side": 1,
      "message": "Good point, removing this.",
      "parentUuid": "d8951d8a_9563483f",
      "range": {
        "startLine": 337,
        "startChar": 11,
        "endLine": 337,
        "endChar": 18
      },
      "revId": "a01493c74738785d5ca6a4b8193efdd493346688",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}